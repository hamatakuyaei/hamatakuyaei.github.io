<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>音量等指示システムの受信側</title>
  <link rel="stylesheet" href="./style.css">

</head>
<body>
<!-- partial:index.partial.html -->
<!DOCTYPE html>
<html lang="ja" >
  <head>
    <meta charset="UTF-8">
    <title>音量等指示システムー受信</title>
    <link rel="icon" type="image/ico" href="./favicon.ico" sizes="16x16 24x24 32x32 48x48 64x64" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/push.js/0.0.11/push.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=BIZ+UDPGothic&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <link rel="stylesheet" href="./style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- partial:index.partial.html -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+JP:wght@500&family=M+PLUS+2:wght@300;400&family=Noto+Sans+JP&family=Zen+Kaku+Gothic+New:wght@500&display=swap" rel="stylesheet">
    <script type="text/javascript">

function modalOpen(){
 //------------------------------------------------------------
 //  モーダルウインドウ オープン
 //------------------------------------------------------------
  document.getElementById("modalArea").className = "modalBg modalBgOpen";
}

function modalClose(){
 //------------------------------------------------------------
 //  モーダルウインドウ クローズ
 //------------------------------------------------------------
  document.getElementById("modalArea").className = "modalBg modalBgClose";
}
</script>
    <script>
            (()=>{
            // ゼロ埋めして2桁の数値にする
            const zero = n => (n < 10 ) ? "0" + n.toString() : n.toString();
 
            // 日付の文字列化
            const youbi = ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
            const getDateString = date =>
                `${ date.getFullYear() }/ ${ zero(date.getMonth() + 1) }/  ${ zero(date.getDate()) }/ ${ youbi[date.getDay()] }`;
 
            // 時間の文字列化
            const getHourString = date =>
                `${ zero(date.getHours()) }: ${ zero(date.getMinutes()) }: ${ zero(date.getSeconds()) }`;
 
            // DOMの構築を待つ
            window.addEventListener('DOMContentLoaded',()=> {
                // 日時を表示するDOM要素を取得
                const dateDiv = document.getElementById("date");
                const clockDiv = document.getElementById("clock");
 
                // 現在の日
                let nowDate = null;
 
                // 1秒周期のタイマーセット
                setInterval( ()=>{
                    // 現在の日時を取得
                    const now = new Date();
                    // 日付が変わったら日付を再表示
                    if( nowDate !== now.getDate() ) {
                        nowDate = now.getDate();
                        dateDiv.innerText = getDateString(now);
                    }
 
                    // 時間を再表示
                    clockDiv.innerText = getHourString(now);
                },1000);
            });
})();

    </script>
  </head>
  <body>
    <section class="section">
<p class="is-size-4 has-text-weight-medium bc">音量等指示システム〈受信〉</p>
     <div class="zikan">
      <div id="date"></div>
     <div id="clock"></div>
     </div><hr>
      <div class="oya">
      </div>
 <a onclick="modalOpen()" class="yoko"><span class="material-symbols-outlined">chat</span></a>
<!-- モーダルウインドウのエリア -->
<div id="modalArea" class="modalNoDisp">
  <div class="modalWindow"> <!-- ここがウインドウとなります -->
    
<a class="close button" onclick="modalClose()" style="  position:absolute;right: 10px;top: 10px;font-size: 20px; margn-left: auto; color: #49494a; cursor: pointer;"><span class="material-symbols-outlined">disabled_by_default</span></a>
    
    <p style="font-size: 150%;"><b>メッセージ</b></p>
    <p style="font-size: 70%;">画像送信などは使えません。<br>メッセージを送信しても送れない（入力欄下に送ったメッセージが表示されない）場合は、再読込してください</p>
    <iframe id="if" src="https://hamatakuyaei.github.io/ybcs/chat/index.html?id=体育館放送室（音響チーム）msg&room=onryoutouseigyoyouseisousinnsisutemu2&pw=onryoutouseigyoyouseisousinnsisutemu2" frameborder="0" width="800" height="500"></iframe>

  </div>
</div>
       <div id="addChat"></div>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/push.js/0.0.11/push.min.js"></script>
      <script>

</script>
      <!-- partial -->
<div id="chat" style="hight:600px;border:solid 1px #000000;overflow:scroll;"></div>
      <div id="hyouzi" class="ipi"></div>

<div id="id" style="width:100%;border:solid 1px #FFFFFF;"></div>
    </section>
          <script>
        var si = document.getElementById("si");
window.addEventListener('offline', function(e) { si.innerHTML = '<p class="maru"><b>インターネットに接続されていません。接続して、再読込してください。。</b></p>';
 });
      if (window.navigator.onLine) {
  console.log("online");
} else {
  console.log("offline");
    si.innerHTML = '<p class="maru"><b>インターネットに接続されていません。接続して、再読込してください。。</b></p>';

}
      </script>
  </body>
      <script src="https://hamatakuyaei.github.io/ybcs/%E9%9F%B3%E9%87%8F%E6%8C%87%E7%A4%BA/sousin/script.js"></script>
</html>
<!-- partial -->
  <script  src="./script.js"></script>

</body>
</html>
